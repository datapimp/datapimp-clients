#!/usr/bin/env ruby

begin
  require "commander/import"
  require "pry"
  require 'colored'
rescue
  require "rubygems"
  require "commander/import"
  require "pry"
  require 'colored'
end

$:.unshift Dir.pwd() + '/lib'

require "#{ Dir.pwd() }/lib/datapimp.rb"

program :name, 'Datapimp Clients'
program :version, Datapimp::Clients::Version
program :description, 'Datapimp command line utilities'

command :smoke do |c|
  c.syntax = 'datapimp smoke [options]'
  c.description = 'Run the smoke tests'

  #c.options '--directory PATH', String, 'Path to smoke tests'

  c.action do |args, options|
    options.default(:path => File.join(Dir.pwd(),'smoke'))
    Datapimp::Smoke.run(path: options.path)
  end
end
